{"version":3,"sources":["webpack:///./src/views/products/create.vue?ae30","webpack:///src/views/products/create.vue","webpack:///./src/views/products/create.vue?6f7d","webpack:///./src/views/products/create.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","errors","on","onSubmit","staticRenderFns","components","FormProduct","data","isLoading","methods","formData","load","loading","createProduct","then","type","message","name","catch","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,OAASP,EAAIQ,QAAQC,GAAG,CAAC,SAAWT,EAAIU,aAAa,IAClNC,EAAkB,G,kHCaP,GACfC,YAAAC,oBACAC,KAFA,WAGA,OACAN,UACAO,eAGAC,SACAN,SADA,SACAI,GAAA,8JAEA,SADAG,EAAA,aACA,EACA,aACAH,0BAAA,qCACA,0BACAA,4BACA,6EAAI,EAAJ,KAAI,EAAJ,KACAG,oEAIAA,iBAZA,OAeAC,EAAAC,iBAfA,SAgBAC,kBACAC,MAAA,4BACA,YACAC,eACAC,YAGA,gBAAAC,2BAEAC,OAAA,6BACA,WAAI,EAAJ,OAEA,UACA,sBA7BA,OAiCAP,UAjCA,gDCvB+V,I,YCO3VQ,EAAY,eACd,EACA3B,EACAY,GACA,EACA,KACA,KACA,MAIa,aAAAe,E","file":"js/chunk-2d0aecf8.4e2c85e3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('FormProduct',{attrs:{\"errors\":_vm.errors},on:{\"onSubmit\":_vm.onSubmit}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-container\">\n    <FormProduct\n      :errors=\"errors\"\n      @onSubmit=\"onSubmit\"\n    />\n  </div>\n</template>\n\n<script>\nimport { createProduct } from '@/api/product'\nimport { loading } from '@/utils/index'\nimport FormProduct from './form.vue'\n\nexport default {\n  components: { FormProduct },\n  data() {\n    return {\n      errors: {},\n      isLoading: false\n    }\n  },\n  methods: {\n    async onSubmit(data) {\n      const formData = new FormData()\n      for (const key in data) {\n        if (key === 'images') {\n          data[key].forEach(f => formData.append('images[]', f.raw))\n        } else if (key === 'product_unit_stocks') {\n          data[key].forEach((s, idx) => {\n            for (const [k, v] of Object.entries(s)) {\n              formData.append(`product_unit_stocks[${idx}][${k}]`, v)\n            }\n          })\n        } else {\n          formData.append(key, data[key])\n        }\n      }\n      const load = loading()\n      await createProduct(formData)\n        .then(({ message }) => {\n          this.$message({\n            type: 'success',\n            message\n          })\n\n          this.$router.push({ name: 'products_index' })\n        })\n        .catch(({ response }) => {\n          const { status, data } = response\n\n          if (status === 422) {\n            this.errors = data.errors\n          }\n        })\n\n      load.close()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create.vue?vue&type=template&id=33963df0&\"\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}