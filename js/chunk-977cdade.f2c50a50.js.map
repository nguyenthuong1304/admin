{"version":3,"sources":["webpack:///./src/views/products/index.vue?caf5","webpack:///src/views/products/index.vue","webpack:///./src/views/products/index.vue?ba93","webpack:///./src/views/products/index.vue","webpack:///./src/views/products/index.vue?d15a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","slot","_v","labelPosition","model","value","callback","$$v","formSearch","expression","$set","_l","cate","key","id","name","on","$event","fetchData","clearSearch","directives","rawName","list","scopedSlots","_u","fn","scope","row","images","url","_s","slug","categoriesToString","categories","keyword","origin","endow","detail","params","destroy","total","perPage","handleCurrentChange","product","drawer","closeDrawer","staticRenderFns","components","DrawerProduct","mixins","data","listLoading","price_start","price_end","category_id","created","Promise","methods","fetchCategories","getCategories","nextPage","getList","page","confirmButtonText","cancelButtonText","type","then","deleteProduct","message","load","loading","fetchProduct","component"],"mappings":"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","file":"js/chunk-977cdade.f2c50a50.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_c('el-collapse',{attrs:{\"accordion\":\"\"}},[_c('el-collapse-item',{attrs:{\"name\":\"1\"}},[_c('template',{slot:\"title\"},[_c('h3',[_vm._v(\"Mở hộp thoại tìm kiếm \"),_c('i',{staticClass:\"header-icon el-icon-search\"})])]),_c('div',{staticStyle:{\"padding\":\"10px\",\"border\":\"1px solid black\"}},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"label-position\":_vm.labelPosition},model:{value:(_vm.formSearch),callback:function ($$v) {_vm.formSearch=$$v},expression:\"formSearch\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"Tên sản phẩm\"}},[_c('el-input',{attrs:{\"placeholder\":\"Tôm tít..\"},model:{value:(_vm.formSearch.name),callback:function ($$v) {_vm.$set(_vm.formSearch, \"name\", $$v)},expression:\"formSearch.name\"}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"Từ khoá\"}},[_c('el-input',{attrs:{\"placeholder\":\"Tôm tít, tôm hùm, ...\"},model:{value:(_vm.formSearch.keyword),callback:function ($$v) {_vm.$set(_vm.formSearch, \"keyword\", $$v)},expression:\"formSearch.keyword\"}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"Xuất xứ\"}},[_c('el-input',{attrs:{\"placeholder\":\"Việt Nam\"},model:{value:(_vm.formSearch.origin),callback:function ($$v) {_vm.$set(_vm.formSearch, \"origin\", $$v)},expression:\"formSearch.origin\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"Khoảng giá khởi điểm\"}},[_c('el-input',{attrs:{\"placeholder\":\"1 000 000\"},model:{value:(_vm.formSearch.price_start),callback:function ($$v) {_vm.$set(_vm.formSearch, \"price_start\", $$v)},expression:\"formSearch.price_start\"}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"Khoảng giá kết thúc\"}},[_c('el-input',{attrs:{\"placeholder\":\"1 200 000\"},model:{value:(_vm.formSearch.price_end),callback:function ($$v) {_vm.$set(_vm.formSearch, \"price_end\", $$v)},expression:\"formSearch.price_end\"}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"Trạng thái\"}},[_c('el-select',{attrs:{\"placeholder\":\"Trạng thái\"},model:{value:(_vm.formSearch.category_id),callback:function ($$v) {_vm.$set(_vm.formSearch, \"category_id\", $$v)},expression:\"formSearch.category_id\"}},[_c('el-option',{attrs:{\"label\":\"Tất cả\",\"value\":0}}),_vm._l((_vm.categories),function(cate){return _c('el-option',{key:cate.id,attrs:{\"label\":cate.name,\"value\":cate.id}})})],2)],1)],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.fetchData(1)}}},[_vm._v(\"Tìm kiếm\")]),_c('el-button',{on:{\"click\":_vm.clearSearch}},[_vm._v(\"Xoá tìm kiếm\")])],1)],1)],1)],2)],1)],1),_c('div',{staticStyle:{\"margin-bottom\":\"5px\"}},[_c('router-link',{attrs:{\"to\":{ name: 'products_create'},\"tag\":\"span\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"}},[_vm._v(\"Tạo mới sản phẩm\")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],attrs:{\"data\":_vm.list,\"element-loading-text\":\"Loading\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"Ảnh đại diện\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"image\",attrs:{\"src\":scope.row.images[0].url,\"width\":\"75\",\"height\":\"75\"}})]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"Tên sản phẩm\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.name)+\" \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"Đường dẫn\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.slug)+\" \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"Danh mục\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm.categoriesToString(scope.row.categories))+\" \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"Từ khoá\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.keyword)+\" \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"Xuất xứ\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.origin)+\" \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"Ưu đãi\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.endow)+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"Thao tác\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-row',[_c('el-button',{attrs:{\"type\":\"default\",\"icon\":\"el-icon-view\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.detail(scope.row.id)}}}),_c('router-link',{attrs:{\"to\":{ name: 'products_edit', params: { id: scope.row.id }}}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"}})],1),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.destroy(scope.row.id)}}})],1)]}}])})],1),_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"page-size\":_vm.perPage},on:{\"current-change\":_vm.handleCurrentChange}})],1),_c('DrawerProduct',{attrs:{\"product\":_vm.product,\"drawer\":_vm.drawer},on:{\"closeDrawer\":_vm.closeDrawer}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-container\">\n    <div style=\"margin: 10px 0\">\n      <el-collapse accordion>\n        <el-collapse-item name=\"1\">\n          <template slot=\"title\">\n            <h3>Mở hộp thoại tìm kiếm <i class=\"header-icon el-icon-search\" /></h3>\n          </template>\n          <div style=\"padding: 10px; border: 1px solid black\">\n            <el-form v-model=\"formSearch\" :label-position=\"labelPosition\" class=\"demo-form-inline\">\n              <el-row>\n                <el-col :span=\"8\">\n                  <el-form-item label=\"Tên sản phẩm\">\n                    <el-input v-model=\"formSearch.name\" placeholder=\"Tôm tít..\" />\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"8\">\n                  <el-form-item label=\"Từ khoá\">\n                    <el-input v-model=\"formSearch.keyword\" placeholder=\"Tôm tít, tôm hùm, ...\" />\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"8\">\n                  <el-form-item label=\"Xuất xứ\">\n                    <el-input v-model=\"formSearch.origin\" placeholder=\"Việt Nam\" />\n                  </el-form-item>\n                </el-col>\n              </el-row>\n              <el-row>\n                <el-col :span=\"8\">\n                  <el-form-item label=\"Khoảng giá khởi điểm\">\n                    <el-input v-model=\"formSearch.price_start\" placeholder=\"1 000 000\" />\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"8\">\n                  <el-form-item label=\"Khoảng giá kết thúc\">\n                    <el-input v-model=\"formSearch.price_end\" placeholder=\"1 200 000\" />\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"8\">\n                  <el-form-item label=\"Trạng thái\">\n                    <el-select v-model=\"formSearch.category_id\" placeholder=\"Trạng thái\">\n                      <el-option label=\"Tất cả\" :value=\"0\" />\n                      <el-option v-for=\"cate in categories\" :key=\"cate.id\" :label=\"cate.name\" :value=\"cate.id\" />\n                    </el-select>\n                  </el-form-item>\n                </el-col>\n              </el-row>\n              <el-form-item>\n                <el-button type=\"primary\" @click=\"fetchData(1)\">Tìm kiếm</el-button>\n                <el-button @click=\"clearSearch\">Xoá tìm kiếm</el-button>\n              </el-form-item>\n            </el-form>\n          </div>\n        </el-collapse-item>\n      </el-collapse>\n    </div>\n    <div style=\"margin-bottom: 5px\">\n      <router-link :to=\"{ name: 'products_create'}\" tag=\"span\">\n        <el-button size=\"small\" type=\"primary\" icon=\"el-icon-edit\">Tạo mới sản phẩm</el-button>\n      </router-link>\n    </div>\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      element-loading-text=\"Loading\"\n      border\n      fit\n      highlight-current-row\n    >\n      <el-table-column align=\"center\" label=\"Ảnh đại diện\">\n        <template slot-scope=\"scope\">\n          <img :src=\"scope.row.images[0].url\" class=\"image\" width=\"75\" height=\"75\">\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"Tên sản phẩm\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.name }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"Đường dẫn\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.slug }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"Danh mục\">\n        <template slot-scope=\"scope\">\n          {{ categoriesToString(scope.row.categories) }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"Từ khoá\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.keyword }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"Xuất xứ\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.origin }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"Ưu đãi\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.endow }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Thao tác\" width=\"200\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-row>\n            <el-button type=\"default\" icon=\"el-icon-view\" circle @click=\"detail(scope.row.id)\" />\n            <router-link :to=\"{ name: 'products_edit', params: { id: scope.row.id }}\">\n              <el-button type=\"primary\" icon=\"el-icon-edit\" circle />\n            </router-link>\n            <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"destroy(scope.row.id)\" />\n          </el-row>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div style=\"margin-top: 10px\">\n      <el-pagination\n        background\n        layout=\"prev, pager, next\"\n        :total=\"total\"\n        :page-size=\"perPage\"\n        @current-change=\"handleCurrentChange\"\n      />\n    </div>\n    <DrawerProduct\n      :product=\"product\"\n      :drawer=\"drawer\"\n      @closeDrawer=\"closeDrawer\"\n    />\n  </div>\n</template>\n\n<script>\nimport { getList as getCategories } from '@/api/category'\nimport { getList, deleteProduct, fetchProduct } from '@/api/product'\nimport { pagiMixin } from '@/mixin/common'\nimport { loading } from '@/utils/index'\nimport DrawerProduct from './_drawer.vue'\n\nexport default {\n  components: { DrawerProduct },\n  mixins: [pagiMixin],\n  data() {\n    return {\n      listLoading: true,\n      categories: [],\n      formSearch: {\n        name: '',\n        keyword: '',\n        origin: '',\n        price_start: '',\n        price_end: '',\n        category_id: 0\n      },\n      labelPosition: 'top',\n      drawer: false,\n      product: {}\n    }\n  },\n  async created() {\n    await Promise.all([this.fetchCategories(), this.fetchData(1)])\n  },\n  methods: {\n    async fetchCategories() {\n      const { data } = await getCategories()\n      this.categories = data.map(({ id, name }) => ({ id, name }))\n    },\n    async fetchData(nextPage) {\n      this.listLoading = true\n      const { data } = await getList({ page: nextPage, ...this.formSearch })\n      this.setPagi(data)\n      this.listLoading = false\n    },\n    async destroy(id) {\n      await this.$confirm('Bạn chắc chắn muốn xoá sản phẩm này?', 'Warning', {\n        confirmButtonText: 'OK',\n        cancelButtonText: 'Cancel',\n        type: 'warning'\n      }).then(async() => {\n        this.listLoading = true\n        await deleteProduct(id)\n          .then(({ message }) => {\n            this.$message({\n              type: 'success',\n              message\n            })\n          })\n\n        await this.fetchData(1)\n      })\n    },\n    async clearSearch() {\n      this.formSearch = {\n        name: '',\n        keyword: '',\n        origin: '',\n        price_start: '',\n        price_end: '',\n        category_id: 0\n      }\n\n      await this.fetchData(1)\n    },\n    async detail(id) {\n      const load = loading()\n      const { data } = await fetchProduct(id)\n      this.product = { ...data }\n      this.drawer = true\n      load.close()\n    },\n    categoriesToString(categories) {\n      return categories.map(c => c.name).join(', ')\n    },\n    closeDrawer() {\n      this.drawer = false\n    }\n  }\n}\n</script>\n<style>\n.el-select {\n  width: 100%;\n}\n\n.el-drawer__body {\n  padding: 20px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2690a718&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2690a718&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2690a718&prod&lang=css&\""],"sourceRoot":""}